<h2><span class="h-anchor" id="tabla-de-contenidos"></span>Tabla de contenidos</h2>
<!-- toc -->
<ul>
<li><a href="#dhtml2pdf">dhtml2pdf</a></li>
<li><a href="#the-api">The API</a></li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#html">HTML</a></li>
<li><a href="#jquery">jQuery</a></li>
</ul></li>
<li><a href="#deploy-your-own-server-api">Deploy your own server API</a></li>
<li><a href="#license">License</a></li>
</ul>
<!-- tocstop -->
<h1><span class="h-anchor" id="dhtml2pdf"></span><a href="https://dellos7.github.io/dhtml2pdf/">dhtml2pdf</a></h1>
<p><strong>dhtml2pdf</strong> is a simple, free and very easy to use PHP API that allows you to
see, download or get the binary of the PDF generated from the HTML of an URL.</p>
<p>It uses the <a href="https://github.com/knplabs/snappy">snappy</a> image &amp; PDF from URL generation PHP library,
which is based in the awesome webkit-based <a href="https://wkhtmltopdf.org/">wkhtmltopdf and wkhtmltoimage</a> CLI.</p>
<p>Try it out here! :point_right: <a href="https://dhtml2pdf.herokuapp.com/">https://dhtml2pdf.herokuapp.com/</a></p>
<h1><span class="h-anchor" id="the-api"></span>The API</h1>
<p>Currently, the API is an PHP-based end point which simply
allows you to pass as parameter the URL of the HTML page that you want
to convert to PDF. It's deployed as a <a href="https://www.heroku.com/home">Heroku</a>
APP so you can use it whenever you want to.</p>
<p>It's as easy as this:</p>
<pre><code>https://dhtml2pdf.herokuapp.com/api.php?url=&lt;your_url&gt;&amp;result_type=&lt;result_type&gt;
</code></pre>
<p><strong>Params</strong>:</p>
<ul>
<li><code>url</code>. The URL of the site you want to convert to PDF. Example: <code>url=https://www.github.com</code></li>
<li><code>result_type</code>. The way you want to retrieve the generated PDF. Can be
one of the following:
<ul>
<li><code>show</code>. Opens the generated PDF in the browser.</li>
<li><code>download</code>. Downloads the generated PDF.</li>
<li><code>binary</code>. Returns the binary content of the generated PDF.</li>
</ul></li>
<li><code>file_name</code>. If you choose <code>download</code> in the <code>result_type</code> parameter,
this is the name of the file that will be downloaded (you must pass the name)
without the <strong>.pdf</strong> extension.</li>
</ul>
<p><strong>Example</strong>:</p>
<p>This:</p>
<pre><code>https://dhtml2pdf.herokuapp.com/api.php?url=https://www.github.com&amp;result_type=show
</code></pre>
<p>would open the generated PDF from the <code>https://www.github.com</code> site in your browser.</p>
<h1><span class="h-anchor" id="examples"></span>Examples</h1>
<h2><span class="h-anchor" id="html"></span>HTML</h2>
<p>Anchor to show the PDF in a new browser tab:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://dhtml2pdf.herokuapp.com/api.php?url=https://www.github.com&amp;result_type=show<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Show PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</code></pre>
<p>Anchor to download the PDF as <strong>my_pdf.pdf</strong>:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://dhtml2pdf.herokuapp.com/api.php?url=https://www.github.com&amp;result_type=download&amp;file_name=my_pdf<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Download PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</code></pre>
<blockquote>
<p>PRO TIP: Show or download current page in PDF</p>
</blockquote>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript:window.open('https://dhtml2pdf.herokuapp.com/api.php?url='+window.location.href+'&amp;result_type=show', '_blank')<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Show PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</code></pre>
<h2><span class="h-anchor" id="jquery"></span>jQuery</h2>
<p>Retrieve the binary data of the PDF:</p>
<pre><code class="language-javascript">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">"https://dhtml2pdf.herokuapp.com/api.php?url=https://www.github.com&amp;&amp;result_type=binary"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//Prints the PDF binary data in the browser console</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h1><span class="h-anchor" id="deploy-your-own-server-api"></span>Deploy your own server API</h1>
<p>If you don't want to depend on a external service as this one, you
can easily clone the repo and deploy it in your own server. I will show
how to deploy it in a <a href="https://www.heroku.com/home">Heroku</a> server as it's easy and fast to install and free!</p>
<p>Clone the repo:</p>
<pre><code class="language-shell"><span class="token function">git</span> clone https://github.com/Dellos7/dhtml2pdf.git
</code></pre>
<pre><code class="language-shell"><span class="token builtin class-name">cd</span> dhtml2pdf
</code></pre>
<blockquote>
<p>If you had any troubles following the below instructions, please visit the
Heroku PHP getting started guide at <a href="https://devcenter.heroku.com/articles/getting-started-with-php#set-up">https://devcenter.heroku.com/articles/getting-started-with-php#set-up</a></p>
</blockquote>
<p>Sign up in Heroku: <a href="https://signup.heroku.com/">https://signup.heroku.com/</a></p>
<p>Download &amp; install Heroku CLI: <a href="https://devcenter.heroku.com/articles/heroku-cli#download-and-install">https://devcenter.heroku.com/articles/heroku-cli#download-and-install</a></p>
<p>Login in the Heroku CLI:</p>
<pre><code class="language-shell">heroku login
</code></pre>
<p>Create your Heroku APP:</p>
<pre><code class="language-shell">heroku create <span class="token operator">&lt;</span>your_app_name<span class="token operator">></span>
</code></pre>
<p>(your APP name will be deployed then in https://&lt;your_app_name&gt;.herokuapp.com)</p>
<p>Update &amp; create the composer dependencies:</p>
<pre><code class="language-shell">composer update
</code></pre>
<p>Remove the current git repository and create a Heroku one:</p>
<pre><code class="language-shell"><span class="token function">rm</span> -r .git
<span class="token function">git</span> init
<span class="token function">git</span> remote <span class="token function">add</span> heroku https://git.heroku.com/<span class="token operator">&lt;</span>your_app_name<span class="token operator">></span>.git
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">"first commit"</span>
</code></pre>
<p>We only need a last command in order to push our APP to heroku, which
will perform the PHP build and deploy the APP!</p>
<pre><code class="language-shell"><span class="token function">git</span> push -u heroku master
</code></pre>
<pre><code class="language-docker"><span class="token keyword">FROM</span> php<span class="token punctuation">:</span>7.3.3<span class="token punctuation">-</span>apache
<span class="token keyword">RUN</span> apt<span class="token punctuation">-</span>get update \
   &amp;&amp; apt<span class="token punctuation">-</span>get upgrade <span class="token punctuation">-</span>y
<span class="token keyword">RUN</span> docker<span class="token punctuation">-</span>php<span class="token punctuation">-</span>ext<span class="token punctuation">-</span>install mysqli
<span class="token keyword">EXPOSE</span> 80
<span class="token keyword">ENV</span> APACHE_DOCUMENT_ROOT /var/www/html
</code></pre>
<pre><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> biblioteca<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> ciclismo<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> musica<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token string">'david'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre>
<h1><span class="h-anchor" id="license"></span>License</h1>
<p><a href="https://choosealicense.com/licenses/gpl-3.0/">GPL 3.0 License</a></p>
